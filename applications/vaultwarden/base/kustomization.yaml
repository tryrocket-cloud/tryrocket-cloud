apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - middleware.yaml

configMapGenerator:
  - name: vaultwarden-config
    literals:
      - VAULTWARDEN_VERSION=latest
      - LOG_LEVEL=off # https://github.com/dani-garcia/vaultwarden/wiki/Logging#changing-the-log-level
      - DOMAIN=https://vaultwarden.tryrocket.cloud
      - ROCKET_PORT=8080
      - SIGNUPS_ALLOWED=true
      - INVITATIONS_ALLOWED=false
      - SIGNUPS_VERIFY=false
      - EXTENDED_LOGGING=true
      - DATABASE_HOST=localhost
      - DATABASE_PORT=5432